classDiagram
    %% Основные объекты метаданных
    class ОбъектМетаданных {
        +Имя: String
    }

    %% Справочники
    class Справочник {
        +Реквизиты: Массив
        +ТабличныеЧасти: Массив
    }

    class РасходныеМатериалы {
        +Фото: ХранилищеЗначений
        +ЕдиницаИзмерения: СсылкаЕдиницыИзмерений
        +ФормаСоздания(): void
    }

    class Клиенты {
        +Телефон: String(10)
        +Адрес: String(100)
    }

    class ЕдиницыИзмерений {
        +Наименование: String
    }

    %% Документы
    class Документ {
        +Реквизиты: Массив
        +ТабличныеЧасти: Массив
    }

    class Заказ {
        +Модель: РасходныеМатериалы
        +Услуга: ПеречислениеУслуги
        +Заказчик: Клиенты
        +Статус: ПеречислениеСтатусы
        +ОбщаяСумма: Число
        +Установки: ТабличнаяЧасть
    }

    class Закупки {
        +ИтоговаяСумма: Число
        +Поступление: ТабличнаяЧасть
    }

    %% Табличные части
    class Установки {
        +Наименование: РасходныеМатериалы
        +Цена: Число
        +Количество: Число
        +Сумма: Число
    }

    class Поступление {
        +Наименование: РасходныеМатериалы
        +Цена: Число
        +Количество: Число
        +Сумма: Число
    }

    %% Отчеты и обработки
    class Отчет {
        +Сформировать(): void
    }

    class ПоступлениеМатериалов {
        +Сформировать(): void
    }

    class ОстаткиМатериалов {
        +Сформировать(): void
    }

    class Обработка {
        +Выполнить(): void
    }

    class СозданиеЗакупки {
        +DragAndDrop(): void
        +СоздатьНаОсновании(): void
    }

    class СозданиеЗаказа {
        +DragAndDrop(): void
        +СоздатьНаОсновании(): void
    }

    %% Регистры сведений
    class РегистрСведений {
        +Измерения: Массив
        +Ресурсы: Массив
    }

    class ВыполненныеРаботы {
        +Документ: Заказ
    }

    class АктивныеЗаказы {
        +Документ: Заказ
    }

    class ЦенаНоменклатуры {
        +Номенклатура: РасходныеМатериалы
        +Цена: Число
    }

    %% Регистры накопления
    class РегистрНакопления {
        +Измерения: Массив
        +Ресурсы: Массив
    }

    class ПокупкаМатериала {
        +Номенклатура: РасходныеМатериалы
        +Документ: Закупки
        +Себестоимость: Число
        +Количество: Число
        +Сумма: Число
    }

    class ОстаткиМатериала {
        +Номенклатура: РасходныеМатериалы
        +Документ: Закупки
        +Количество: Число
        +Сумма: Число
        +Выручка: Число
    }

    %% Наследование
    ОбъектМетаданных <|-- Справочник
    ОбъектМетаданных <|-- Документ
    ОбъектМетаданных <|-- Отчет
    ОбъектМетаданных <|-- Обработка
    ОбъектМетаданных <|-- РегистрСведений
    ОбъектМетаданных <|-- РегистрНакопления

    Справочник <|-- РасходныеМатериалы
    Справочник <|-- Клиенты
    Справочник <|-- ЕдиницыИзмерений

    Документ <|-- Заказ
    Документ <|-- Закупки

    Заказ "1" *-- "0..*" Установки
    Закупки "1" *-- "0..*" Поступление

    Отчет <|-- ПоступлениеМатериалов
    Отчет <|-- ОстаткиМатериалов

    Обработка <|-- СозданиеЗакупки
    Обработка <|-- СозданиеЗаказа

    РегистрСведений <|-- ВыполненныеРаботы
    РегистрСведений <|-- АктивныеЗаказы
    РегистрСведений <|-- ЦенаНоменклатуры

    РегистрНакопления <|-- ПокупкаМатериала
    РегистрНакопления <|-- ОстаткиМатериала

    %% Связи между объектами
    РасходныеМатериалы -- ЕдиницыИзмерений: "ЕдиницаИзмерения"
    Заказ -- Клиенты: "Заказчик"
    Заказ -- РасходныеМатериалы: "Модель"
    Установки -- РасходныеМатериалы: "Наименование"
    Поступление -- РасходныеМатериалы: "Наименование"
    ПокупкаМатериала -- РасходныеМатериалы: "Номенклатура"
    ОстаткиМатериала -- РасходныеМатериалы: "Номенклатура"
    ЦенаНоменклатуры -- РасходныеМатериалы: "Номенклатура"
